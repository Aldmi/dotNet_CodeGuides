
Выполнение миграции для **IdentityDb.Pg**:

D:\C#\Samples\dotNet_CodeGuides\authentication-features\ASP.NET Core Identity> dotnet ef migrations add Init --project IdentityDb.Pg --startup-project WebApi --context IdentityDbContext



Endpoints:

    /login  

Если авторизация на основе Cookies (useCookies = true, useSessionCookies = true).
то в ответе выставятся куки и можно их использовать для авторизации
(куки можно проверить в отладчике браузера)

    Если выбран BearerScheme Token  - то возвращается
    {
        "tokenType": "Bearer",
        "accessToken": "CfDJ8D_RfwxgYmRKqxlh1jh8iSjBBpWesu8iRXuMPU9miAVqPfjXGcrKJ9bTCQ2mgAPaNhpTk6vK9BW2TG9du1d0DLhKlkc5TZXCacxcALdmPHS2Q5IzsPPhl3jvpLkIRc-F1xcvXjp0JOr1MdoWtHzh8jUxGa0S86C5qrwjmz-mNPTof23CJnSWrCZ6J64cE7rOrQlmPJ47FVcL10dcsU-g36wRry0pqX6qNA-tzFj2cIa3ksGbYYoeDYBNswoUtRb2dmIHR3ZNQWpJUeEWCmg1PLqSXQUSbkv6MfhRaNL3FVSlRemgd4WGScYf-panAT8O6lgOW2yJeZ6Ofpjap4_w4nhBuifftMfkarWNb4vGHYWqxu1Dokg2u8QOas78OASMUyRonmuR5mB8Op0rAKQPRZSGusM2hfdav4u1NX-Ig50bCjedDM1YqicDlf9u8LOLnA63RzixqSWHof8okaPt4-STnZJGWu1ehrVYco8pli1m5-hrGXGhhTccNsLrhZ043diZo8QTkpNGKYL58Bm1m-4sk5GQiNm0_mE0KC8JYhVms1-FzkdfhbHvLUnaXP_AyWwlll0trghpUaWTutbn3yTSFpnqXKxczTHaelbbwDc0fVutWGxDoY7rgnKSnfvn9f2YH9z1GY0I-Bx2F3XsrAJeWP1-nO4ZgCzBheeMgTWZfXIUBzyv0k_yjg4YgZ7yZA",
        "expiresIn": 3600,
        "refreshToken": "CfDJ8D_RfwxgYmRKqxlh1jh8iSjs4KhjHFYDJn6wSzdXqcn_Y5pHZbpYqPC6jonTrinC1nFhlkF4Hb-1z_-m4XG7Iy_BNbr5bVg9gp2WTuO0woYOztmGcpz-iX6u0wIBpkjcUrdRQYjF-7dEqlx7ZaitpTGFlpXkMyuI6tBZehLWNaHqiZcJ4dM9A9KlBb_L6ucAvNy3m21r5WVvKCdEoMlLG76hYMWvclBGGqVkTY4Rhfi5IPJPsXwoCDW-IHZV8ojQ-Z_8YIsFSofZSYjsHWERtresznUKFPjbzg7N6OXyCMb5nZ558F0UDn5UVFuGJ6rYfi5CGbyqYRdFTM9EYyjy3ZLNbnC8qKpzmgQ2vmkRnoI-nswRRzBQ0ENT1jWfE186z821iVtW1Ns-Vr8pdeI_BmofXzugLgU6Mr8wq9MnpEBRgpAhmrcf6V06r35s1ZUizvL6ZodRhNmNbgQMVHt4c2DyOUhYY_3w1YCL7vbBp_07GLswssrc2EcyM1_uZKNzM2PcAfaBqivf7KYRigNkRBDrcnq-ooFfvZ_W59dvMcE1h7HaRlXnjRq10xc_4AP2KFklHRYf0oqEwIXRvTLzPIlb2dAh6qyNGXanSDQERo1X9n01t80QTWoKb7vTgo9HaGZtpHtthHNbR8VntpU6x1DdLvNAkVrwG-_V0az9kqk3dwFzkCC1Qg1DIFMnqiDqMQ"
    }



Авторизация SWAGGER:

В поле Authorize Swagger ввести "Bearer {accessToken}"
Bearer CfDJ8D_RfwxgYmRKqxlh1jh8iSg92kz9nkrdnTS2KoQyZuL7I7RldQhz_hIFvSboBD6b3qumzXgiYiXZbkDEY6QslOdYICHIJ4I-xjvNshwUWXbSpgKqxcAzQ4wQa1LUcp58zQyTS7enGCLqV-jIFuAVwnzGH_7WMtp1PJPyPM-xIvbjxIDu7UfbfDuXnJH9SunI5FixzG0YMo4kNsJSz_n7fvTR5MPRU93oJTlg0NUeHI4eMk2f7m1xG4lvCU6rBNPGuVTWHc6TsBrR8AGXTkic58P1ZW-l7_5Qo4jaDFIRJtMCwQ5H0U5yMxpiOevlKIepL9ZHqJDNX3yrPIJBdn__W7yk5lKR_MjsMS4Tzm0-1l1s8h2xrNReBJhuYhjXAClvreOVjzSn3V-p97O3efM2R2D27ie9e5Q2bNqlgShjsi1sx0Arj0D9rtOZGEBz3eQs5xh33v8_BcesIAZSjtA3z4HE7J8BxsHEVLuyeGwMgRWfBPbNzpuP4BjpDaTFGkPJr9C2AXf9_YXr99jkJRsO8WxN3ty85aoKtJoXXaJuQFhXxWmEaCDAWe6XSAvbOacNsEOKAu1NvVaOT4fKONxXjhA8c9LIcKQRFdFsLNflsehhMyTy5xvNENZdjZzOvdjyAusk02JdZxfctPkXzq-EScMlkDZ6Mx-RfVVyRatp3vgHoP3ujROK74AoXUMwJuIxAA

После этого можно слать запросы на зашищенные endpoints.

